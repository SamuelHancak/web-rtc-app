{"map":{"version":3,"sources":["static/js/main.569933b0.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","41","70","73","74","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","lib","lib_default","src_App_0","_Component","Object","App","_super","props","_this","call","componentDidMount","socket","path","query","pc","RTCPeerConnection","onicecandidate","e","candidate","console","log","JSON","stringify","oniceconnectionstatechange","ontrack","remoteVideoRef","current","srcObject","streams","navigator","mediaDevices","getUserMedia","video","then","stream","window","localStream","localVideoRef","addStream","catch","createOffer","offerToReceiveVideo","sdp","setLocalDescription","setRemoteDescription","desc","parse","textref","value","RTCSessionDescription","createAnswer","addCandidate","addIceCandidate","RTCIceCandidate","a","createRef","key","_this2","createElement","style","width","height","margin","backgroundColor","ref","autoPlay","onClick","_ref","textarea","Boolean","location","hostname","match","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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"},"code":"(this[\"webpackJsonpweb-rtc-audio\"]=this[\"webpackJsonpweb-rtc-audio\"]||[]).push([[0],{36:function(e,t,n){e.exports=n(74)},41:function(e,t,n){},70:function(e,t){},73:function(e,t,n){},74:function(e,t,n){\"use strict\";n.r(t);var o=n(0),c=n.n(o),a=n(30),r=n.n(a),i=(n(41),n(31)),l=n(32),s=n(35),d=n(34),u=n(33),f=n.n(u),m=(n(73),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){o.socket=f()(\"/webrtcPeer\",{path:\"/webrtc\",query:{}});o.pc=new RTCPeerConnection(null),o.pc.onicecandidate=function(e){e.candidate&&console.log(JSON.stringify(e.candidate))},o.pc.oniceconnectionstatechange=function(e){console.log(e)},o.pc.ontrack=function(e){o.remoteVideoRef.current.srcObject=e.streams[0]};navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){window.localStream=e,o.localVideoRef.current.srcObject=e,o.pc.addStream(e)})).catch((function(e){console.log(\"getUserMedia error: \",e)}))},o.createOffer=function(){console.log(\"Offer\"),o.pc.createOffer({offerToReceiveVideo:1}).then((function(e){console.log(JSON.stringify(e)),o.pc.setLocalDescription(e)}),(function(e){}))},o.setRemoteDescription=function(){var e=JSON.parse(o.textref.value);o.pc.setRemoteDescription(new RTCSessionDescription(e))},o.createAnswer=function(){console.log(\"Answer\"),o.pc.createAnswer({offerToReceiveVideo:1}).then((function(e){console.log(JSON.stringify(e)),o.pc.setLocalDescription(e)}),(function(e){}))},o.addCandidate=function(){var e=JSON.parse(o.textref.value);console.log(\"Adding candidate:\",e),o.pc.addIceCandidate(new RTCIceCandidate(e))},o.localVideoRef=c.a.createRef(),o.remoteVideoRef=c.a.createRef(),o.socket=null,o}return Object(l.a)(n,[{key:\"render\",value:function(){var e=this;return c.a.createElement(\"div\",null,c.a.createElement(\"video\",{style:{width:240,height:240,margin:5,backgroundColor:\"black\"},ref:this.localVideoRef,autoPlay:!0}),c.a.createElement(\"video\",{style:{width:240,height:240,margin:5,backgroundColor:\"black\"},ref:this.remoteVideoRef,autoPlay:!0}),c.a.createElement(\"button\",{onClick:this.createOffer},\"Offer\"),c.a.createElement(\"button\",{onClick:this.createAnswer},\"Answer\"),c.a.createElement(\"br\",null),c.a.createElement(\"textarea\",{ref:function(t){e.textarea=t}}),c.a.createElement(\"br\",null),c.a.createElement(\"button\",{onClick:this.setRemoteDescription},\"Set remote description\"),c.a.createElement(\"button\",{onClick:this.addCandidate},\"Add cadidate\"))}}]),n}(o.Component));Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);","extractedComments":[]}